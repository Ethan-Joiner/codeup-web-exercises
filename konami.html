<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>
<h3 id="entry"></h3>


<script src="js/jquery-2.2.4.js"></script>
<script>
    "use strict";
    var goodAudio = new Audio ("sounds/success.mp3");
    var failAudio = new Audio ("audio/failure.mp3");
    var pressDisplay = '';
    $(document).ready(function() {
            var cheatArray = [];
            var displayArray = [];
            var pressed = '';
            var i = 0;
            var correctCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'a', 'b', 'Enter'];
        $(document).keyup(function (event) {
                 pressed = event.key;
                switch(pressed) {
                    case 'ArrowUp':
                        pressDisplay = 'Up';
                        break;
                    case 'ArrowDown':
                        pressDisplay = 'Down';
                        break;
                    case 'ArrowLeft':
                        pressDisplay = 'Left';
                        break;
                    case 'ArrowRight':
                        pressDisplay = 'Right';
                        break;
                    case 'a':
                        pressDisplay = 'A';
                        break;
                    case 'b':
                        pressDisplay = 'B';
                        break;
                    case 'Enter':
                        pressDisplay = 'Start';
                }
                if (pressed === correctCode[i]) {
                    cheatArray.push(pressed);
                    displayArray.push(pressDisplay + " ");
                    if (cheatArray[i] === correctCode[i]) {
                    console.log('Correct Entry');
                        console.log(pressDisplay);
                    $("#entry").html(displayArray);
                    i++
                    }
                } else {
                    console.log('All your base are belong to us');
                    cheatArray = [];
                    displayArray= [];
                    pressed = '';
                    i = 0;
                    $("#entry").html("<img src='img/allyourbase.png' alt='allyourbase'><br><h5>Incorrect cheat input</h5>");
                    failAudio.play();
                }
            // console.log(array);
            // console.log(correctCode)
                if (cheatArray.length === correctCode.length) {
                    alert('Somebody set up us the bomb! You have added 30 lives!');
                    goodAudio.play();
                    displayArray = [];
                    cheatArray = [];
                    i = 0;
                    $("#entry").html("<img src=\"img/slimer.gif\" alt=\"slimer\"><br><h5>Cheat code activated</h5>");
                    // successAudio.pause();
                }
        });

    })
</script>
</body>
</html>